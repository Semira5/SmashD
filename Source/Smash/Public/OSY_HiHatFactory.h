// Fill out your copyright notice in the Description page of Project Settings.

#pragma once

#include "CoreMinimal.h"
#include "GameFramework/Actor.h"
#include "OSY_HiHatNodeActor.h"
#include "OSY_HiHatFactory.generated.h"

UCLASS()
class SMASH_API AOSY_HiHatFactory : public AActor
{
	GENERATED_BODY()
	
public:	
	// Sets default values for this actor's properties
	AOSY_HiHatFactory();

protected:
	// Called when the game starts or when spawned
	virtual void BeginPlay() override;

public:	
	// Called every frame
	virtual void Tick(float DeltaTime) override;

	UPROPERTY(EditAnywhere, Category="MySettings")
	TSubclassOf<class AOSY_HiHatNodeActor> NodeFactory;

	//----------------------------
	// 오브젝트 풀을 저장할 배열
	TArray<AOSY_HiHatNodeActor*> HiHatPool;

	//풀사이즈
	UPROPERTY(EditAnywhere, Category="MySettings")
	int32 HiHatPoolSize;

	// 스네어 노드 클래스에 대한 참조
	UPROPERTY(EditAnywhere, Category="MySettings")
    TSubclassOf<AOSY_HiHatNodeActor> NodeClass;

	int currentNodeIndex = 0;

	// 노드 스폰하는 함수
	void spawnHiHatNode();

	// 현재 시간
	float currentTime = 0;

	TArray<float> spawnTimes =
	{ 13.576f,14.048f,14.52f,14.992f,15.464f,15.936f,16.408f,16.88f,17.352f,17.824f,18.296f,18.768f,19.24f,19.712f,20.184f,20.656f,21.128f,21.6f,22.072f,22.544f,23.016f,23.488f,23.96f,24.432f,24.904f,25.376f,25.848f,26.32f,26.792f,27.264f,27.736f,28.208f,29.152f,29.624f,30.096f,30.568f,31.04f,31.512f,31.984f,32.456f,32.928f,33.4f,33.872f,34.344f,34.816f,35.288f,35.76f,36.704f,37.176f,37.648f,38.12f,38.592f,39.064f,39.536f,44.256f,44.492f,44.728f,44.964f,45.2f,45.436f,45.672f,45.908f,46.144f,46.38f,46.616f,46.852f,47.088f,47.324f,47.56f,47.796f,48.032f,48.268f,48.504f,48.74f,48.976f,49.212f,49.448f,49.684f,49.92f,50.156f,50.392f,50.628f,50.864f,51.1f,51.572f,51.808f,52.044f,52.28f,52.516f,52.752f,52.988f,53.224f,53.46f,53.696f,53.932f,54.168f,54.404f,54.64f,54.876f,55.112f,55.348f,55.584f,55.82f,56.056f,56.292f,56.528f,56.764f,57.f,57.236f,57.472f,57.708f,57.944f,58.18f,58.416f,58.652f,59.36f,59.596f,59.832f,60.068f,60.304f,60.54f,60.776f,61.012f,61.248f,61.484f,61.72f,61.956f,62.192f,62.428f,62.664f,62.9f,63.136f,63.372f,63.608f,63.844f,64.08f,64.316f,64.552f,64.788f,65.024f,65.26f,65.496f,65.732f,65.968f,66.204f,66.912f,67.148f,67.384f,67.62f,67.856f,68.092f,68.328f,68.564f,68.8f,69.036f,69.272f,69.508f,69.744f,69.98f,70.216f,70.452f,70.688f,70.924f,71.16f,71.396f,71.632f,71.868f,72.104f,72.34f,72.576f,72.812f,73.048f,74.464f,74.7f,74.936f,75.172f,75.408f,75.644f,75.88f,76.116f,76.352f,76.588f,76.824f,77.06f,77.296f,77.532f,77.768f,78.004f,78.24f,78.476f,78.712f,78.948f,79.184f,79.42f,79.656f,79.892f,80.128f,80.364f,80.6f,80.836f,81.072f,81.308f,82.016f,82.252f,82.488f,82.724f,82.96f,83.196f,83.432f,83.668f,83.904f,84.14f,84.376f,84.612f,84.848f,85.084f,85.32f,85.556f,85.792f,86.028f,86.264f,86.5f,86.736f,86.972f,87.208f,89.568f,89.804f,90.04f,90.276f,90.512f,90.748f,90.984f,91.22f,91.456f,91.692f,91.928f,92.164f,92.4f,92.636f,92.872f,93.108f,93.344f,93.58f,93.816f,94.052f,94.288f,94.524f,94.76f,94.996f,95.232f,95.468f,95.704f,95.94f,96.176f,96.412f,97.12f,97.356f,97.592f,97.828f,98.064f,98.3f,98.536f,98.772f,99.008f,99.244f,99.48f,99.716f,99.952f,100.188f,100.424f,100.66f,100.896f,101.132f,101.368f,101.604f,101.84f,102.076f,102.312f,102.548f,102.784f,103.02f,103.256f,103.492f,103.728f,103.964f,104.2f,104.436f,104.672f,104.908f,105.144f,105.38f,105.616f,105.852f,106.088f,106.324f,106.56f,106.796f,107.032f,107.268f,107.504f,107.74f,112.224f,112.46f,112.696f,112.932f,113.168f,113.404f,113.64f,113.876f,114.112f,114.348f,114.584f,114.82f,115.056f,115.292f,115.528f,115.764f,116.f,116.236f,116.472f,116.708f,116.944f,117.18f,117.416f,117.652f,117.888f,118.124f,118.36f,118.596f,118.832f,119.068f,119.776f,120.012f,120.248f,120.484f,120.72f,120.956f,121.192f,121.428f,121.664f,121.9f,122.136f,122.372f,122.608f,122.844f,123.08f,123.316f,123.552f,123.788f,124.024f,124.26f,124.496f,124.732f,124.968f,125.204f,125.44f,125.676f,125.912f,127.328f,127.564f,127.8f,128.036f,128.272f,128.508f,128.744f,128.98f,129.216f,129.452f,129.688f,129.924f,130.16f,130.396f,130.632f,130.868f,131.104f,131.34f,131.576f,131.812f,132.048f,132.284f,132.52f,132.756f,132.992f,133.228f,133.464f,133.7f,133.936f,134.172f,134.88f,135.116f,135.352f,135.588f,135.824f,136.06f,136.532f,136.768f,137.004f,137.24f,142.432f,142.668f,142.904f,143.14f,143.376f,143.612f,143.848f,144.084f,144.32f,144.556f,144.792f,145.028f,145.264f,145.5f,145.736f,145.972f,146.208f,146.444f,146.68f,146.916f,147.152f,147.388f,147.624f,147.86f,148.096f,148.332f,148.568f,148.804f,149.04f,149.276f,149.984f,150.22f,150.456f,150.692f,150.928f,151.164f,151.4f,151.636f,151.872f,152.108f,152.344f,152.58f,152.816f,153.052f,153.288f,153.524f,153.76f,153.996f,154.232f,154.468f,154.704f,154.94f,155.176f,157.536f,157.772f,158.008f,158.244f,158.48f,158.716f,158.952f,159.188f,159.424f,159.66f,159.896f,160.132f,160.368f,160.604f,160.84f,161.076f,161.312f,161.548f,161.784f,162.02f,162.256f,162.492f,162.728f,162.964f,163.2f,163.436f,163.672f,163.908f,164.144f,164.38f,165.088f,165.324f,165.56f,165.796f,166.032f,166.268f,166.504f,166.74f,166.976f,167.212f,167.448f,167.684f,167.92f,168.156f,168.392f,168.628f,168.864f,169.1f,169.336f,169.572f,169.808f,170.044f,170.28f,172.64f,172.876f,173.112f,173.348f,173.584f,173.82f,174.056f,174.292f,174.528f,174.764f,175.f,175.236f,175.472f,175.708f,175.944f,176.18f,176.416f,176.652f,176.888f,177.124f,177.36f,177.596f,177.832f,178.068f,178.304f,178.54f,178.776f,179.012f,179.248f,179.484f,180.192f,180.428f,180.664f,180.9f,181.136f,181.372f,181.608f,181.844f,182.08f,182.316f,182.552f,182.788f,183.024f,183.26f,183.496f,183.732f,183.968f,184.204f,184.44f,184.676f,184.912f,185.148f,185.384f,185.62f,185.856f,186.092f,186.328f,187.744f,187.98f,188.216f,188.452f,188.688f,188.924f,189.16f,189.396f,189.632f,189.868f,190.104f,190.34f,190.576f,190.812f,191.048f,191.284f,191.52f,191.756f,191.992f,192.228f,192.464f,192.7f,192.936f,193.172f,193.408f,193.644f,193.88f,194.116f,194.352f,194.588f,195.296f,195.532f,195.768f,196.004f,196.24f,196.476f,196.712f,196.948f,197.184f,197.42f,197.656f,197.892f,198.128f,198.364f,198.6f

	};
};
